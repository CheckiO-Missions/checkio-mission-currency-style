<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Je n'ai aucune id√©e de la mani√®re de commencer √† r√©soudre cette mission.
    </div>
    <div class="answer">
        <p>
            Allumez üí°! Nous allons utiliser le module d'expression r√©guli√®re dans la solution. Vous devez cr√©er un motif pour correspondre aux blocs de devises du premier style et remplacer tous les blocs avec le m√™me texte mais chang√© pour le deuxi√®me style.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, par quoi dois-je commencer?
    </div>
    <div class="answer">
        <p>
            Tout d'abord, vous devez importer le module <a target="_blank" href="https://docs.python.org/3/library/re.html">re</a> pour travailler avec les expressions r√©guli√®res.
        </p>
        <pre class="brush: python">
import re
        </pre>
        <p>
            Votre fonction doit renvoyer le texte avec le style de devise modifi√©. Pour remplacer des parties de texte et renvoyer le texte modifi√©, le module dispose de la fonction <a target="_blank" href="https://docs.python.org/3/library/re.html#re.sub">re.sub()</a>. Vous devez donc remplacer chaque bloc correspondant √† <b class="code">pattern</b> par le bloc <b class="code">reform</b> modifi√© dans le bloc <b class="code">text</b> donn√©. √âcrivons-le. 
        </p>
        <pre class="brush: python">
return re.sub(pattern, reform, text)
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Aidez-moi √† √©crire un mod√®le correct.
    </div>
    <div class="answer">
        <p>
            Oui, nous proc√©dons √©tape par √©tape pour mieux comprendre. Votre bloc mon√©taire commence toujours par <b class="code">$</b>. Mais comme ce caract√®re a une signification particuli√®re dans les expressions r√©guli√®res, pour ignorer cette signification particuli√®re et trouver exactement ce caract√®re, utilisez le caract√®re d'√©chappement <b class="code">\</b> avant.
        </p>
        <pre class="brush: python">
"\$"
        </pre>
        <p>
            Vous devez maintenant trouver un premier bloc de chiffres avant le premier s√©parateur, qui peut comporter de 1 √† 3 chiffres, en fonction du nombre (par exemple, 1 $, 12 $, 123 $). Le caract√®re <b class="code">d</b> permet de trouver les chiffres, mais comme nous utilisons sa signification sp√©ciale (ne pas chercher la lettre "d" elle-m√™me), nous avons besoin du caract√®re d'√©chappement avant. D√©finissez le nombre de r√©p√©titions entre crochets.
        </p>
        <pre class="brush: python">
"d{1,3}"
        </pre>
        <p>
            Le nombre peut √™tre grand, vous pouvez donc avoir z√©ro ou plusieurs blocs de points et trois chiffres. Utilisez le caract√®re d'√©chappement pour le point et le chiffre, d√©finissez le nombre de r√©p√©titions pour les chiffres et le bloc entier.
        </p>
        <pre class="brush: python">
"(\.\d{3})*"
        </pre>
        <p>
            Vous pouvez avoir z√©ro ou un bloc de virgules et deux chiffres comme cents.
        </p>
        <pre class="brush: python">
"(,\d{2})?"
        </pre>
        <p>
            Enfin, il doit s'agir de la fin du nombre - aucun chiffre ne doit suivre.
        </p>
        <pre class="brush: python">
"(?!\d)"
        </pre>
        <p>Joignez toutes les cha√Ænes ci-dessus pour obtenir <b class="code">pattern</b>.</p>
        <pre class="brush: python">
pattern = "\$\d{1,3}(\.\d{3})*(,\d{2})?(?!\d)"
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ouah! Tout est clair quand on l'explique! Comment cr√©er une version modifi√©e √† partir de chaque match?
    </div>
    <div class="answer">
        <p>
            Notre <b class="code">reform</b> peut √™tre une fonction! Dans ce cas, elle sera appliqu√©e √† chaque occurrence non chevauchante du motif comme <b class="code">match</b>. Vous pouvez √©crire la fonction en utilisant la fonction <a target="_blank" href="https://www.w3schools.com/python/python_lambda.asp">lambda</a>.
        </p>
        <pre class="brush: python">
reform = lambda match: ...
        </pre>
        <p>
            √âtant donn√© que le r√©sultat de la recherche (<b class="code">match</b>) est un objet en soi, vous devez pr√©ciser que vous n'avez besoin que d'un bloc de cha√Æne entier. Pour ce faire, utilisez <b class="code">group()</b> ou <b class="code">group(0)</b>. Si vous avez des groupes internes dans votre mod√®le et que vous en avez besoin directement, vous pouvez sp√©cifier <b class="code">group(1), group(2) etc.</b>
        </p>
        <pre class="brush: python">
reform = lambda match: match.group()
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, comment remplacer les caract√®res dans la correspondance?
    </div>
    <div class="answer">
        <p>
            Puisque vous devez remplacer deux caract√®res par leur place dans la cha√Æne, il est pr√©f√©rable d'utiliser la m√©thode <a target="_blank" href="https://www.w3schools.com/python/ref_string_translate.asp">str.translate()</a> et <a target="_blank" href="https://www.w3schools.com/python/ref_string_maketrans.asp">str.maketrans()</a> pour sp√©cifier les caract√®res sans les codes <b>ascii</b>.
        </p>
        <pre class="brush: python">
reform = lambda match: match.group().translate(str.maketrans(',.', '.,'))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Alors, √† quoi devrait ressembler ma solution finale?
    </div>
    <div class="answer">
        <p>
            Il vous suffit de joindre les indices pr√©c√©dents pour envelopper votre code dans une expression de fonction. Il est fortement recommand√© d'utiliser des indications de type pour les donn√©es d'entr√©e et de sortie.
        </p>
        <p>Voici la solution compl√®te:</p>
        <div class="spoiler">
        <pre class="brush: python">
import re


def checkio(text: str) -> str:
    
    pattern = '\$\d{1,3}(\.\d{3})*(,\d{2})?(?!\d)'
    reform = lambda match: match.group().translate(str.maketrans(',.', '.,'))
    
    return re.sub(pattern, reform, text)
        </pre>
        </div>
        <p>Cliquez sur <b>Best Solutions</b> dans le menu mission et d√©couvrez de nombreuses autres solutions int√©ressantes!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Merci beaucoup! Je sais et je comprends mieux maintenant! Tout fonctionne bien!
    </div>
    <div class="answer">
        Heureux de l'apprendre üëç!
    </div>
</div>
</body>
